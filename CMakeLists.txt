CMAKE_MINIMUM_REQUIRED(VERSION 2.6)

PROJECT(Amethyst)

INCLUDE(./cmake/FindFreetype.cmake)

FIND_PACKAGE(LibXml2)
FIND_PACKAGE(SDL)
FIND_PACKAGE(SDL_net)

FIND_PACKAGE(Subversion)
IF(Subversion_FOUND)
    Subversion_WC_INFO(${PROJECT_SOURCE_DIR} AMETHYST)
    MESSAGE("Current revision is ${AMETHYST_WC_REVISION}")
ENDIF(Subversion_FOUND)

INCLUDE(TestBigEndian)
TEST_BIG_ENDIAN(WORDS_BIGENDIAN)

INCLUDE (CheckTypeSize)
CHECK_TYPE_SIZE("short"       SIZEOF_SHORT)
CHECK_TYPE_SIZE("int"         SIZEOF_INT)
CHECK_TYPE_SIZE("float"       SIZEOF_FLOAT)
CHECK_TYPE_SIZE("double"      SIZEOF_DOUBLE)
CHECK_TYPE_SIZE("long double" SIZEOF_LONG_DOUBLE)

CONFIGURE_FILE(${CMAKE_CURRENT_SOURCE_DIR}/config.h.in ${CMAKE_CURRENT_BINARY_DIR}/config.h)
SET( CMAKE_CXX_FLAGS "-D HAVE_CONFIG_H -g3 -Wall -Wconversion -Wextra")

SUBDIRS(support/FTGL lib amethyst-gl server)
INCLUDE_DIRECTORIES(${FREETYPE_INCLUDE_DIR} lib)

